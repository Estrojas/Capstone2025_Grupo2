---
type Props = {
    title?: string; // Título principal de la tarjeta
    percent?: number; // Porcentaje (valor numérico de 0 a 100)
    subtitle?: string; // Texto descriptivo
}

// Extraemos las propiedades y aplicamos el casting de tipo
const { 
    title = "DuocUc", 
    percent = 45, 
    subtitle = "Porcentaje total de." } = Astro.props as Props;

// Aseguramos que el porcentaje esté dentro de 0 y 100
const width = Math.max(0, Math.min(100, percent));
---

<div class="flex items-center justify-center rounded-xl bg-white shadow-lg dark:bg-gray-700 h-28 w-full p-4">
    <div class="w-full">
        {/* Título y Porcentaje */}
        <div class="flex items-baseline justify-between mb-2">
            {/* Título */}
            <span class="text-base font-semibold text-gray-700 dark:text-gray-200">{title}</span>
            {/* Valor Porcentual */}
            <span class="text-xl font-bold text-blue-600 dark:text-blue-400">{width}%</span>
        </div>
        
        {/* Barra de Progreso */}
        <div class="w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-600">
            <div 
                class="bg-blue-600 h-2.5 rounded-full transition-all duration-500 ease-out" 
                style={`width: ${width}%`}
            ></div>
        </div>
        
        {/* Subtítulo Descriptivo */}
        <p class="mt-2 text-sm text-gray-600 dark:text-gray-400">{subtitle}</p>
    </div>
</div>